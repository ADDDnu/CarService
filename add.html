<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Car Service · เพิ่ม/แก้ไข</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="logo.png">
  <link rel="stylesheet" href="style.css" />
</head>
<body class="has-tabbar" onload="initForm()">
  <header>
    <img src="logo.png" alt="Car Service Logo" class="logo">
    <h1>เพิ่ม / แก้ไขรถ</h1>
  </header>

  <main>
    <form onsubmit="saveCar(event)">
      <label>ทะเบียน:</label>
      <input type="text" id="plate" required />

      <label>ยี่ห้อ (Brand):</label>
      <input type="text" id="make" placeholder="เช่น Toyota, BYD, Honda" />

      <label>รุ่น (Model):</label>
      <input type="text" id="model" placeholder="เช่น Dolphin, City, Hilux" />

      <label>ประเภทรถ:</label>
      <select id="vehicleType">
        <option value="car">รถยนต์</option>
        <option value="motorcycle">รถจักรยานยนต์</option>
        <option value="agri">รถการเกษตร</option>
      </select>

      <label>วันที่เข้ารับบริการ:</label>
      <input type="date" id="serviceDate" required />

      <label>เลขกม. ล่าสุด:</label>
      <input type="number" id="odometerNow" required />

      <label>วันที่นัดครั้งต่อไป:</label>
      <input type="date" id="nextServiceDate" required />

      <label>เลขกม. นัดหมาย:</label>
      <input type="number" id="nextOdometer" required />

      <hr/>
      <h3>รายการบำรุงรักษาที่ทำครั้งนี้</h3>
      <div class="grid-check">
        <label><input type="checkbox" id="m_engineOil"> น้ำมันเครื่อง</label>
        <label><input type="checkbox" id="m_gearOil"> น้ำมันเกียร์</label>
        <label><input type="checkbox" id="m_coolant"> น้ำยาหม้อน้ำ</label>
        <label><input type="checkbox" id="m_flushingOil"> ฟลัชซิ่งออยล์</label>
        <label><input type="checkbox" id="m_oilFilter"> ไส้กรองน้ำมันเครื่อง</label>
        <label><input type="checkbox" id="m_diffOil"> น้ำมันเฟืองท้าย</label>
        <label><input type="checkbox" id="m_airFilter"> ไส้กรองอากาศ</label>
        <label><input type="checkbox" id="m_brakeFluid"> น้ำมันเบรก</label>
        <label><input type="checkbox" id="m_wiper"> ใบปัดน้ำฝน</label>
        <label><input type="checkbox" id="m_psFluid"> น้ำมันพวงมาลัยเพาเวอร์</label>
      </div>

      <label>หมายเหตุเพิ่มเติม:</label>
      <textarea id="m_notes" rows="3" placeholder="ระบุงานอื่นๆ / อะไหล่ / ยี่ห้อน้ำมัน ฯลฯ"></textarea>

      <hr/>
      <h3>กำหนดต่อภาษี</h3>
      <label>วันสิ้นอายุ:</label>
      <input type="date" id="taxDueDate" required />

      <button type="submit" onclick="saveCar(event)">บันทึก</button>
    </form>
  </main>

  <div id="tabbar"></div>

  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
  <script src="mqtt.js"></script>
  <script src="app.js"></script>
  <script>renderTabbar('log');</script>
</body>
</html>
